@* Reusable skeleton loading component for consistent loading states *@
@using LrmCloud.Web.Models

@if (Type == LoadingSkeletonType.Card)
{
    <RadzenCard>
        <RadzenStack Gap="0.5rem">
            <RadzenStack Orientation="Radzen.Orientation.Horizontal" JustifyContent="JustifyContent.SpaceBetween" AlignItems="Radzen.AlignItems.Start">
                <RadzenStack Gap="0.25rem" Style="flex: 1;">
                    <div style="background: var(--rz-base-light); width: 60%; height: 24px; border-radius: 4px;"></div>
                    <div style="background: var(--rz-base-light); width: 40%; height: 16px; border-radius: 4px;"></div>
                </RadzenStack>
                <div style="background: var(--rz-base-light); width: 32px; height: 32px; border-radius: 50%;"></div>
            </RadzenStack>
            <div style="background: var(--rz-base-light); width: 100%; height: 16px; border-radius: 4px;"></div>
            <div style="background: var(--rz-base-light); width: 80%; height: 16px; border-radius: 4px;"></div>
            <div style="background: var(--rz-base-light); width: 100%; height: 8px; border-radius: 4px; margin-top: 0.5rem;"></div>
            <RadzenStack Orientation="Radzen.Orientation.Horizontal" Gap="0.5rem" class="rz-mt-2">
                <div style="background: var(--rz-base-light); width: 60px; height: 32px; border-radius: 4px;"></div>
                <div style="background: var(--rz-base-light); width: 80px; height: 32px; border-radius: 4px;"></div>
            </RadzenStack>
        </RadzenStack>
    </RadzenCard>
}
else if (Type == LoadingSkeletonType.Table)
{
    <RadzenCard>
        <RadzenStack Orientation="Radzen.Orientation.Horizontal" JustifyContent="JustifyContent.SpaceBetween" class="rz-mb-4">
            <div style="background: var(--rz-base-light); width: 200px; height: 40px; border-radius: 4px;"></div>
            <div style="background: var(--rz-base-light); width: 120px; height: 40px; border-radius: 4px;"></div>
        </RadzenStack>
        @for (int i = 0; i < Rows; i++)
        {
            <RadzenStack Orientation="Radzen.Orientation.Horizontal" Gap="0.5rem" class="rz-mb-2">
                <div style="background: var(--rz-base-light); width: 40px; height: 24px; border-radius: 4px;"></div>
                <div style="background: var(--rz-base-light); width: 30%; height: 24px; border-radius: 4px;"></div>
                <div style="background: var(--rz-base-light); width: 20%; height: 24px; border-radius: 4px;"></div>
                <div style="background: var(--rz-base-light); width: 25%; height: 24px; border-radius: 4px;"></div>
                <div style="background: var(--rz-base-light); width: 15%; height: 24px; border-radius: 4px;"></div>
            </RadzenStack>
        }
    </RadzenCard>
}
else if (Type == LoadingSkeletonType.Form)
{
    <RadzenStack Gap="1rem">
        @for (int i = 0; i < Rows; i++)
        {
            <div>
                <div style="background: var(--rz-base-light); width: 120px; height: 16px; border-radius: 4px; margin-bottom: 0.25rem;"></div>
                <div style="background: var(--rz-base-light); width: 100%; height: 40px; border-radius: 4px;"></div>
            </div>
        }
        <RadzenStack Orientation="Radzen.Orientation.Horizontal" JustifyContent="JustifyContent.End" Gap="0.5rem" class="rz-mt-4">
            <div style="background: var(--rz-base-light); width: 80px; height: 36px; border-radius: 4px;"></div>
            <div style="background: var(--rz-base-light); width: 100px; height: 36px; border-radius: 4px;"></div>
        </RadzenStack>
    </RadzenStack>
}
else if (Type == LoadingSkeletonType.Stats)
{
    <RadzenRow Gap="1rem">
        @for (int i = 0; i < Count; i++)
        {
            <RadzenColumn Size="12" SizeSM="6" SizeMD="3">
                <RadzenCard>
                    <RadzenStack Orientation="Radzen.Orientation.Horizontal" JustifyContent="JustifyContent.SpaceBetween" AlignItems="Radzen.AlignItems.Center">
                        <div>
                            <div style="background: var(--rz-base-light); width: 80px; height: 16px; border-radius: 4px;"></div>
                            <div style="background: var(--rz-base-light); width: 60px; height: 32px; border-radius: 4px; margin-top: 0.5rem;"></div>
                        </div>
                        <div style="background: var(--rz-base-light); width: 48px; height: 48px; border-radius: 50%;"></div>
                    </RadzenStack>
                </RadzenCard>
            </RadzenColumn>
        }
    </RadzenRow>
}
else if (Type == LoadingSkeletonType.List)
{
    <RadzenStack Gap="0.5rem">
        @for (int i = 0; i < Rows; i++)
        {
            <RadzenCard>
                <RadzenStack Orientation="Radzen.Orientation.Horizontal" AlignItems="Radzen.AlignItems.Center" Gap="0.75rem">
                    @if (ShowAvatar)
                    {
                        <div style="background: var(--rz-base-light); width: 40px; height: 40px; border-radius: 50%;"></div>
                    }
                    <RadzenStack Gap="0.25rem" Style="flex: 1;">
                        <div style="background: var(--rz-base-light); width: 60%; height: 20px; border-radius: 4px;"></div>
                        <div style="background: var(--rz-base-light); width: 40%; height: 16px; border-radius: 4px;"></div>
                    </RadzenStack>
                    <div style="background: var(--rz-base-light); width: 80px; height: 32px; border-radius: 4px;"></div>
                </RadzenStack>
            </RadzenCard>
        }
    </RadzenStack>
}
else
{
    @* Default: Rectangle *@
    <div style="background: var(--rz-base-light); height: @Height; width: @Width; border-radius: 4px;"></div>
}

@code {
    [Parameter]
    public LoadingSkeletonType Type { get; set; } = LoadingSkeletonType.Rectangle;

    [Parameter]
    public int Rows { get; set; } = 5;

    [Parameter]
    public int Count { get; set; } = 4;

    [Parameter]
    public string Height { get; set; } = "100px";

    [Parameter]
    public string Width { get; set; } = "100%";

    [Parameter]
    public bool ShowAvatar { get; set; } = false;
}
