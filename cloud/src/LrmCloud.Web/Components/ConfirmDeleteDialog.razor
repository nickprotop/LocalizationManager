@inject Radzen.DialogService DialogService

<RadzenStack Gap="1rem">
    <RadzenText>@_message</RadzenText>

    @if (_items.Any())
    {
        <RadzenCard Style="max-height: 200px; overflow-y: auto; background: var(--rz-base-200);">
            @foreach (var item in _items.Take(10))
            {
                <RadzenStack Orientation="Radzen.Orientation.Horizontal" AlignItems="Radzen.AlignItems.Center" Gap="0.5rem" Style="padding: 0.25rem 0;">
                    <RadzenIcon Icon="remove" Style="font-size: 1rem;" />
                    <RadzenText TextStyle="TextStyle.Body2">@item</RadzenText>
                </RadzenStack>
            }
            @if (_items.Count > 10)
            {
                <RadzenText TextStyle="TextStyle.Caption" class="rz-color-secondary">
                    ...and @(_items.Count - 10) more
                </RadzenText>
            }
        </RadzenCard>
    }

    <RadzenAlert AlertStyle="AlertStyle.Warning" Shade="Shade.Lighter" AllowClose="false" Size="AlertSize.Small">
        This action cannot be undone.
    </RadzenAlert>

    <RadzenStack Orientation="Radzen.Orientation.Horizontal" JustifyContent="JustifyContent.End" Gap="0.5rem">
        <RadzenButton Variant="Radzen.Variant.Text" Text="Cancel" Click="@Close" />
        <RadzenButton ButtonStyle="ButtonStyle.Danger" Text="Delete" Click="@Confirm" />
    </RadzenStack>
</RadzenStack>

@code {
    [Parameter]
    public EventCallback OnConfirmed { get; set; }

    private string _title = "Confirm Delete";
    private string _message = "Are you sure you want to delete this item?";
    private List<string> _items = new();

    [Parameter]
    public string? Title
    {
        get => _title;
        set => _title = value ?? "Confirm Delete";
    }

    [Parameter]
    public string? Message
    {
        get => _message;
        set => _message = value ?? "Are you sure you want to delete this item?";
    }

    [Parameter]
    public List<string>? Items
    {
        get => _items;
        set => _items = value ?? new List<string>();
    }

    private void Close()
    {
        DialogService.Close(false);
    }

    private async Task Confirm()
    {
        await OnConfirmed.InvokeAsync();
        DialogService.Close(true);
    }
}
